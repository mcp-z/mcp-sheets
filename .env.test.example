# Sheets MCP Server - Test Configuration
# =========================================
# Copy to .env.test and fill in your values

# ============================================================================
# REQUIRED: Google OAuth Credentials
# ============================================================================
# Get these from: https://console.cloud.google.com/apis/credentials
# Create OAuth 2.0 Client ID (Desktop app type)

GOOGLE_CLIENT_ID=your-client-id-here.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret-here  # Optional for public clients

# ============================================================================
# Test Configuration
# ============================================================================

NODE_ENV=test
LOG_LEVEL=error

# Component test transport for HTTP tests
# PORT is dynamically assigned using get-port - DO NOT hardcode
TRANSPORT=http

# Headless mode: prevents browser auto-open in tests
HEADLESS=true

# Optional: Token encryption for production-like testing
ENCRYPTION_KEY=test-encryption-key-32-characters-long

# ============================================================================
# OAuth Client Type: LoopbackOAuthClient
# ============================================================================
# This server uses LoopbackOAuthClient which:
# - Dynamically generates redirect URIs on OS-assigned ports
# - NO GOOGLE_REDIRECT_URI environment variable needed
# - Tests use ephemeral OAuth flows (RFC 8252 loopback)
#
# Note: McpOAuthAdapter (stateless mode) is NOT used by this server

# ============================================================================
# Running Tests
# ============================================================================
# 1. Copy this file to .env.test
# 2. Fill in GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET
# 3. Run: npm run test:setup  (one-time OAuth token generation)
# 4. Run: npm test  (runs all tests with service-backed validation)
